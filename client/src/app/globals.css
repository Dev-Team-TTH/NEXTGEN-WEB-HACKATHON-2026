/* ==========================================
   1. T√çCH H·ª¢P TAILWIND CSS
   ========================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   2. BASE STYLES & THEME TRANSITIONS
   N·ªÅn m√≥ng h·ªá th·ªëng & Chuy·ªÉn ƒë·ªïi Dark Mode m∆∞·ª£t m√†
   ========================================== */
@layer base {
  html,
  body {
    @apply antialiased w-full h-full m-0 p-0 text-gray-900 bg-gray-50;
    /* NgƒÉn ch·∫∑n r√°c highlight xanh khi ng∆∞·ªùi d√πng tap nhanh tr√™n mobile */
    -webkit-tap-highlight-color: transparent;
  }

  /* K√≠ch ho·∫°t chuy·ªÉn ƒë·ªïi m∆∞·ª£t m√† (Smooth Transition) khi b·∫•m ƒë·ªïi Theme */
  body {
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* ƒê·ªìng b·ªô g·ªëc khi next-themes k√≠ch ho·∫°t class "dark" tr√™n th·∫ª <html> */
  html.dark body {
    @apply text-white bg-gray-900;
  }

  /* Lo·∫°i b·ªè vi·ªÅn xanh m·∫∑c ƒë·ªãnh c·ªßa tr√¨nh duy·ªát tr√™n c√°c input/button, 
     thay b·∫±ng hi·ªáu ·ª©ng ring c·ªßa Tailwind cho ƒë·ªìng b·ªô */
  input:focus,
  textarea:focus,
  select:focus,
  button:focus {
    @apply outline-none ring-0;
  }
}

/* ==========================================
   3. CUSTOM SCROLLBAR & SAFE AREA (THI·∫æT B·ªä DI ƒê·ªòNG)
   ========================================== */
@layer utilities {
  /* T√πy ch·ªânh thanh cu·ªôn cho Chrome, Edge, Safari */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full transition-colors duration-200;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Dark mode cho thanh cu·ªôn */
  html.dark ::-webkit-scrollbar-thumb {
    @apply bg-gray-700;
  }

  html.dark ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-600;
  }

  /* Ti·ªán √≠ch ·∫©n thanh cu·ªôn nh∆∞ng v·∫´n cu·ªôn ƒë∆∞·ª£c (D√†nh cho Sidebar/B·∫£ng) */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  /* Hi·ªáu ·ª©ng k√≠nh m·ªù (Glassmorphism) c·ª±c ƒë·∫πp cho Modal / Dropdown */
  .glass {
    @apply bg-white/70 backdrop-blur-md border border-white/20 shadow-lg dark:bg-gray-900/70 dark:border-gray-700/50;
  }

  /* üî• V√Å L·ªñ H·ªîNG IOS/ANDROID: T∆∞∆°ng th√≠ch v√πng an to√†n (Tai th·ªè & Home Indicator) */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }
  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }
  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }
  .mb-safe {
    margin-bottom: env(safe-area-inset-bottom);
  }
}

/* ==========================================
   4. GLOBAL COMPONENTS (T√ÅI S·ª¨ D·ª§NG CLASS)
   Gi·ªØ cho HTML React si√™u s·∫°ch v√† d·ªÖ b·∫£o tr√¨
   ========================================== */
@layer components {
  /* --- N√öT B·∫§M (BUTTONS) --- */
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition-all duration-200 bg-blue-600 border border-transparent rounded-lg shadow-sm hover:bg-blue-700 hover:shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-900;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 transition-all duration-200 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-blue-400 dark:hover:border-blue-500 dark:focus:ring-offset-gray-900;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition-all duration-200 bg-red-600 border border-transparent rounded-lg shadow-sm hover:bg-red-700 hover:shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-900;
  }

  /* --- FORM NH·∫¨P LI√äU (INPUTS & SELECTS) --- */
  .form-input {
    @apply block w-full px-4 py-2.5 text-sm text-gray-900 bg-white border border-gray-300 rounded-lg transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 disabled:bg-gray-100 dark:disabled:bg-gray-800/50 disabled:cursor-not-allowed;
  }

  .form-label {
    @apply block mb-1.5 text-sm font-medium text-gray-700 dark:text-gray-300;
  }

  /* --- B·∫¢NG D·ªÆ LI·ªÜU (DATA TABLES) --- */
  .table-container {
    @apply w-full overflow-x-auto rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800;
  }

  .table-header {
    @apply bg-gray-50 dark:bg-gray-900/50 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider px-6 py-4 border-b border-gray-200 dark:border-gray-700;
  }

  .table-row {
    @apply border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50/80 dark:hover:bg-gray-700/50 transition-colors duration-150 bg-white dark:bg-gray-800;
  }

  .table-cell {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200;
  }

  /* --- TH·∫∫ NH√ÉN (BADGES) --- */
  .badge-success {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800/50;
  }
  
  .badge-warning {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800/50;
  }
  
  .badge-danger {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-800 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800/50;
  }
}

/* ==========================================
   5. B·ªò TI·ªÜN √çCH IN ·∫§N (PRINT MEDIA QUERIES)
   D√†nh ri√™ng cho K·∫ø to√°n & Qu·∫£n l√Ω kho in Phi·∫øu/B√°o c√°o
   ========================================== */
@media print {
  /* ·∫®n t·∫•t c·∫£ Sidebar, Navbar, TopLoader, Toast khi ng∆∞·ªùi d√πng b·∫•m Ctrl + P */
  .no-print,
  nav,
  aside,
  #nprogress,
  [data-toaster] {
    display: none !important;
  }

  /* √âp n·ªÅn tr·∫Øng, ch·ªØ ƒëen tuy·ªát ƒë·ªëi khi in ·∫•n ƒë·ªÉ ti·∫øt ki·ªám m·ª±c */
  html, body, .print-container {
    background-color: white !important;
    color: black !important;
  }

  /* Tr√°nh vi·ªác b·ªã c·∫Øt l√†m ƒë√¥i b·∫£ng d·ªØ li·ªáu gi·ªØa 2 trang gi·∫•y A4 */
  table, tr, td, th {
    page-break-inside: avoid;
  }
  
  /* CƒÉn l·ªÅ chu·∫©n cho trang gi·∫•y A4 */
  @page {
    margin: 1.5cm;
  }
}